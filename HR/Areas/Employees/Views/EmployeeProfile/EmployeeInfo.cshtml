@*<link href="~/Css/app_1.min.css" rel="stylesheet" />*@
<style>
    #profile-main {
        min-height: 500px;
        position: relative;
    }
</style>
<div class="card-header">
    <h2> Employee Profile</h2>

</div>
<div class="card-body card-padding" ng-controller="EmployeeInfoController">
    <div class="row m-t-25">
        <div class="col-sm-12 ">
            <div class="card" id="profile-main">
                <div class="pm-overview c-overflow">
                    <div class="pmo-pic">
                        <div class="p-relative">
                            <a href="">
                                @* <img class="img-responsive" src="~/img/demo/profile-pics/profile-pic-2.jpg" alt="">*@
                            </a>
                            <a href="" class="pmop-edit">
                                <i class="zmdi zmdi-camera"></i> <span class="hidden-xs">Update Profile Picture</span>
                            </a>
                        </div>
                        <div class="pmo-stat ">
                            <h2 class="m-0 c-white  f-18">{{EmployeeHeader.FirstName}} {{EmployeeHeader.MiddleName}}{{EmployeeHeader.LastName}}</h2>
                            {{EmployeeAddress.CityName}}, {{EmployeeAddress.StateName}}, {{EmployeeAddress.CountryCode}}

                        </div>
                    </div>
                    <div class="pmo-block pmo-contact hidden-xs">
                        <h2>Contact</h2>
                        <ul>
                            <li><i class="zmdi zmdi-phone"></i>{{EmployeeAddress.MobileNo}}</li>
                            <li><i class="zmdi zmdi-email"></i>{{EmployeeAddress.Email}}</li>
                        </ul>
                    </div>
                </div>

                <div class="pm-body clearfix">
                    <div class="form-wizard-basic fw-container">
                        <ul class="tab-nav text-center">
                            <li><a href="#Personal-Information" data-toggle="tab">Personal Information</a></li>
                            @*<li><a href="#Education-Employee-Identity" data-toggle="tab">Education &amp; Employee Identity </a></li>*@
                            <li><a href="#Details-Position" data-toggle="tab">Joining Details &amp; Current Position</a></li>
                            <li><a href="#Reset-Password" data-toggle="tab">Reset Password</a></li>
                        </ul>

                        <div class="tab-content">
                            <div class="tab-pane fade" id="Personal-Information">
                                <div class="row">
                                    <div class="col-sm-12 col-md-6">
                                        <div class="pmb-block">
                                            <div class="pmbb-header">
                                                <h2><i class="zmdi zmdi-account m-r-10"></i>&nbsp; Personal Information</h2>

                                                <ul class="actions">
                                                    <li class="dropdown">
                                                        <a href="" data-toggle="dropdown">
                                                            <i class="fa fa-pencil" aria-hidden="true"></i>
                                                        </a>
                                                        <ul class="dropdown-menu dropdown-menu-right">
                                                            <li>
                                                                <a ng-click="EmployeeInfo.editInfo = 1">Edit</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="pmbb-body p-l-0">
                                                <div class="pmbb-view" ng-if="EmployeeInfo.editInfo === 0">
                                                    <dl class="dl-horizontal">
                                                        <dt>Employee No</dt>
                                                        <dd>{{EmployeeHeader.IDNumber}}</dd>
                                                    </dl>
                                                    <dl class="dl-horizontal">
                                                        <dt>Employee Full Name</dt>
                                                        <dd>{{EmployeeHeader.FirstName}}{{EmployeeHeader.MiddleName}}{{EmployeeHeader.LastName}}</dd>
                                                    </dl>
                                                    <dl class="dl-horizontal">
                                                        <dt>Gender</dt>
                                                        <dd ng-bind="EmployeeHeader.EmployeePersonalInfo.Gender == 0 ? 'Male' : 'Female'"></dd>
                                                    </dl>
                                                    <dl class="dl-horizontal">
                                                        <dt>Birthday</dt>
                                                        <dd>{{formatDate(EmployeeHeader.EmployeePersonalInfo.DOB)}}</dd>
                                                    </dl>
                                                    <dl class="dl-horizontal">
                                                        <dt>Martial Status</dt>
                                                        <dd ng-bind="EmployeeHeader.EmployeePersonalInfo.MaritalStatus == 1 ? 'Married' : 'Single'"></dd>
                                                    </dl>
                                                    <dl class="dl-horizontal">
                                                        <dt>Father's Name</dt>
                                                        <dd>{{EmployeeHeader.EmployeePersonalInfo.FatherName}}</dd>
                                                    </dl>
                                                    <dl class="dl-horizontal">
                                                        <dt> Nationality</dt>
                                                        <dd>{{EmployeeHeader.Nationality}}</dd>
                                                    </dl>
                                                </div>

                                                <form id="frmPersonalInfo" name="frmPersonalInfo" enctype="multipart/form-data" ng-class="{'submitted':submitted}" ng-submit="SavePersonalInfo(EmployeeHeader);" novalidate>
                                                    <div class="pmbb-edit" ng-if="EmployeeInfo.editInfo === 1">
                                                        <div class="form-group fg-line">
                                                            <label>Employee No</label>
                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" value="006"
                                                                       placeholder="006" ng-model="EmployeeHeader.IDNumber" disabled>
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>Employee First Name</label>

                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" ng-model="EmployeeHeader.FirstName" ng-required="true">
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>Employee Middle Name</label>

                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" ng-model="EmployeeHeader.MiddleName">
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>Employee Last Name</label>
                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" ng-model="EmployeeHeader.LastName" ng-required="true">
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>Birthday</label>

                                                            <div class="dropdown">
                                                                <a class="dropdown-toggle" id="DOB" role="button" data-toggle="dropdown">
                                                                    <div class="input-group">
                                                                        <input type="text" class="form-control input-sm datepicker valid"
                                                                               ng-model="EmployeeHeader.EmployeePersonalInfo.DOB"
                                                                               name="EmployeeHeader.EmployeePersonalInfo.DOB"
                                                                               ng-required="true"
                                                                               date-time-input="{{dateFormat}}">
                                                                        <span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>
                                                                    </div>
                                                                </a>
                                                                <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                                                    <datetimepicker ng-model="EmployeeHeader.EmployeePersonalInfo.DOB"
                                                                                    data-datetimepicker-config="{ dropdownSelector: '#DOB', startView:'day', minView:'day' }" />
                                                                </ul>
                                                            </div>

                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>Gender</label>

                                                            <div class="fg-line">
                                                                <div>
                                                                    <input type="radio" id="genderChoice1"
                                                                           name="gender" value="0" ng-model="EmployeeHeader.EmployeePersonalInfo.Gender">
                                                                    <label>Male</label>
                                                                </div>
                                                                <div>
                                                                    <input type="radio" id="genderChoice2"
                                                                           name="gender" value="1" ng-model="EmployeeHeader.EmployeePersonalInfo.Gender">
                                                                    <label>Female</label>
                                                                </div>
                                                                <div>
                                                                    <input type="radio" id="genderChoice3"
                                                                           name="gender" value="2" ng-model="EmployeeHeader.EmployeePersonalInfo.Gender">
                                                                    <label>Other</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>Martial Status</label>
                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" ng-model="EmployeeHeader.EmployeePersonalInfo.MaritalStatus == 0 ?'Married' : 'Single'"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label> Father's Name</label>
                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" ng-model="EmployeeHeader.EmployeePersonalInfo.FatherName" ng-required="true">
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>Nationality</label>

                                                            <div class="fg-line">
                                                                <select name="Nationality" ng-options="s.CountryCode as s.CountryName for s in Countries"
                                                                        ng-model="EmployeeHeader.Nationality" class="form-control"
                                                                        ng-required="true">
                                                                    <option value="">--Select Nationality--</option>
                                                                </select>
                                                            </div>

                                                        </div>
                                                        <div class="m-t-30">
                                                            <button class="btn btn-primary btn-sm" ng-click="submitted = true;" type="submit">Save</button>
                                                            <button data-ma-action="profile-edit-cancel" class="btn bgm-gray waves-effect btn-sm" ng-click="EmployeeInfo.editInfo = 0">Cancel</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-6">
                                        <div class="pmb-block">
                                            <div class="pmbb-header">
                                                <h2><i class="zmdi zmdi-phone m-r-10"></i>&nbsp; Contact Information</h2>
                                                <ul class="actions">
                                                    <li class="dropdown">
                                                        <a href="" data-toggle="dropdown">
                                                            <i class="fa fa-pencil" aria-hidden="true"></i>
                                                        </a>
                                                        <ul class="dropdown-menu dropdown-menu-right">
                                                            <li>
                                                                <a ng-click="EmployeeInfo.editContact =1">Edit</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="pmbb-body p-l-0">
                                                <form id="frmContactAddressInfo" name="frmContactAddressInfo" enctype="multipart/form-data" ng-class="{'submitted':submitted}" ng-submit="SaveEmployeeAddress(EmployeeAddress);" novalidate>
                                                    <div class="pmbb-view" ng-if="EmployeeInfo.editContact === 0">
                                                        <dl class="dl-horizontal">
                                                            <dt>Mobile</dt>
                                                            <dd>{{EmployeeAddress.MobileNo}}</dd>
                                                        </dl>
                                                        <dl class="dl-horizontal">
                                                            <dt>Email</dt>
                                                            <dd>{{EmployeeAddress.Email}}</dd>
                                                        </dl>
                                                    </div>
                                                    <div class="pmbb-edit" ng-if="EmployeeInfo.editContact === 1">
                                                        <div class="form-group fg-line">
                                                            <label>Mobile Phone</label>
                                                            <div class="fg-line">
                                                                <input type="text" class="form-control"
                                                                       ng-model="EmployeeAddress.MobileNo" ng-required="true">
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>Email Address</label>
                                                            <div class="fg-line">
                                                                <input type="email" class="form-control"
                                                                       ng-model="EmployeeAddress.Email" ng-required="true">
                                                            </div>
                                                        </div>
                                                        <div class="m-t-30">
                                                            <button class="btn btn-primary btn-sm" type="submit">Save</button>
                                                            <button data-ma-action="profile-edit-cancel" class="btn bgm-gray waves-effect btn-sm" ng-click="EmployeeInfo.editContact = 0">Cancel</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="pmb-block">
                                            <div class="pmbb-header">
                                                <h2><i class="zmdi zmdi-pin m-r-10"></i>&nbsp; Address Information</h2>
                                            </div>
                                            <ul class="actions text-right">
                                                <li class="dropdown">
                                                    <a href="" data-toggle="dropdown">
                                                        <i class="fa fa-pencil" aria-hidden="true"></i>
                                                    </a>

                                                    <ul class="dropdown-menu dropdown-menu-right">
                                                        <li>
                                                            <a ng-click="EmployeeInfo.editAddress =1">Edit</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                            <div class="pmbb-body p-l-0">
                                                <div class="pmbb-view" ng-if="EmployeeInfo.editAddress === 0">
                                                    <dl class="dl-horizontal">
                                                        <dt>Address</dt>
                                                        <dd>
                                                            <address class="m-b-0 ng-binding">
                                                                {{EmployeeAddress.Address1}},<br>
                                                                {{EmployeeAddress.Address1}},<br>
                                                                {{EmployeeAddress.CityName}}<br>
                                                                {{EmployeeAddress.StateName}}<br>
                                                                {{EmployeeAddress.CountryCode}} - {{EmployeeAddress.ZipCode}}
                                                                @*{{EmployeeAddress.CountryCode}}  change CountryCode countryName*@

                                                            </address>
                                                        </dd>
                                                    </dl>

                                                </div>
                                                <form id="frmAddressInfo" name="frmAddressInfo" enctype="multipart/form-data" ng-class="{'submitted':submitted}" ng-submit="SaveEmployeeAddress(EmployeeAddress);" novalidate>

                                                    <div class="pmbb-edit" ng-if="EmployeeInfo.editAddress === 1">
                                                        <h4 class="f-14 m-b-10">Address</h4>
                                                        <div class="form-group fg-line">
                                                            <label>Address 1</label>
                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" ng-model="EmployeeAddress.Address1" ng-required="true">
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>Address 2</label>
                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" ng-model="EmployeeAddress.Address2" ng-required="true">
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>
                                                                City
                                                            </label>
                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" ng-model="EmployeeAddress.CityName" ng-required="true">
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label class="p-t-10">
                                                                State
                                                            </label>
                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" ng-model="EmployeeAddress.StateName" ng-required="true">
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label class="p-t-10">
                                                                Country
                                                            </label>
                                                            <div class="fg-line">
                                                                <select name="CountryCode" ng-options="s.CountryCode as s.CountryName for s in Countries"
                                                                        ng-model="EmployeeAddress.CountryCode" class="form-control"
                                                                        ng-required="true">
                                                                    <option value="">--Select Country--</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>Postal Code</label>
                                                            <div class="fg-line">
                                                                <input type="text" class="form-control" ng-model="EmployeeAddress.ZipCode">
                                                            </div>
                                                        </div>
                                                        <div class="m-t-30">
                                                            <button class="btn btn-primary btn-sm" type="submit">Save</button>
                                                            <button data-ma-action="profile-edit-cancel" class="btn bgm-gray waves-effect btn-sm" ng-click="EmployeeInfo.editAddress = 0">Cancel</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="Details-Position">
                                <div class="row">
                                    <div class="col-sm-12 col-md-6">
                                        <div class="pmb-block p-t-0">

                                            <div class="pmbb-header">
                                                <h2><i class="zmdi zmdi-account-add m-r-10"></i>&nbsp; Joining Details </h2>
                                            </div>
                                            <div class="pmbb-body p-l-0">
                                                <div class="pmbb-view">

                                                    <dl class="dl-horizontal">
                                                        <dt>Joined On</dt>
                                                        <dd>{{formatDate(EmployeeWorkDetail.JoiningDate)}}</dd>
                                                    </dl>
                                                    <dl class="dl-horizontal">
                                                        <dt>Confirmation Date</dt>
                                                        <dd> {{formatDate(EmployeeWorkDetail.ConfirmationDate)}}</dd>
                                                    </dl>
                                                    <dl class="dl-horizontal">
                                                        <dt> Probation Period</dt>
                                                        <dd>{{EmployeeWorkDetail.ProbationPeriod}}</dd>
                                                    </dl>
                                                    <dl class="dl-horizontal">
                                                        <dt> Notice Period</dt>
                                                        <dd>{{EmployeeWorkDetail.NoticePeriod}}</dd>
                                                    </dl>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-6">
                                        <div class="pmb-block p-t-0">

                                            <div class="pmbb-header">
                                                <h2><i class="zmdi zmdi-account-box-o m-r-10"></i>&nbsp; Current Position </h2>
                                            </div>
                                            <div class="pmbb-body p-l-0">
                                                <div class="pmbb-view">

                                                    <dl class="dl-horizontal">
                                                        <dt>Department</dt>
                                                        <dd>{{EmployeeWorkDetail.Department.LookUpCode}}</dd>
                                                        @*get the department text and change the vale*@
                                                    </dl>
                                                    <dl class="dl-horizontal">
                                                        <dt>Designation</dt>
                                                        <dd>{{EmployeeWorkDetail.Designation.LookUpCode}}</dd> 
                                                        @*get the Development text and change the vale*@
                                                    </dl>
                                                </div>


                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="tab-pane fade" id="Reset-Password">
                                <div class="row">
                                    <div class="col-sm-12 col-md-6">
                                        <div class="pmb-block">
                                            <div class="pmbb-header">
                                                <h2><i class="zmdi zmdi-assignment m-r-10"></i>&nbsp; Reset - Password </h2>

                                                <ul class="actions">
                                                    <li class="dropdown">
                                                        <a href="" data-toggle="dropdown">
                                                            <i class="fa fa-pencil" aria-hidden="true"></i>
                                                        </a>

                                                        <ul class="dropdown-menu dropdown-menu-right">
                                                            <li>
                                                                <a ng-click="EmployeeInfo.editResetPassword = 1">Edit</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="pmbb-body p-l-0">
                                                <div class="pmbb-view" ng-if="EmployeeInfo.editResetPassword === 0">
                                                    <dl class="dl-horizontal">
                                                        <dt></dt>
                                                        <dd> </dd>
                                                    </dl>
                                                </div>
                                                <form id="frmUserInfo" name="frmUserInfo" enctype="multipart/form-data" ng-class="{'submitted':submitted}" ng-submit="SaveEmployeeUser(EmployeeUser);" novalidate">
                                                    <div class="pmbb-edit" ng-if="EmployeeInfo.editResetPassword === 1">
                                                        <div class="form-group fg-line">
                                                            <label>
                                                                New Password
                                                            </label>
                                                            <div class="fg-line">
                                                                <input type="password" class="form-control" ng-model="EmployeeUser.Password" ng-required="true"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group fg-line">
                                                            <label>
                                                                Confirm Password
                                                            </label>
                                                            <div class="fg-line">
                                                                <input type="password" class="form-control" ng-model="EmployeeUser.ConfirmPassword" ng-required="true" />
                                                            </div>
                                                        </div>
                                                        <div class="m-t-30">
                                                            <button class="btn btn-primary btn-sm" type="submit" ng-click="submitted = true;">Save</button>
                                                            <button data-ma-action="profile-edit-cancel" class="btn bgm-gray waves-effect btn-sm" ng-click="EmployeeInfo.editResetPassword = 0">Cancel</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <ul class="fw-footer pagination wizard">
                                <li class="previous first">
                                    <a class="a-prevent" href="">
                                        <i class="zmdi zmdi-more-horiz"></i>
                                    </a>
                                </li>
                                <li class="previous">
                                    <a class="a-prevent" href="">
                                        <i class="zmdi zmdi-chevron-left"></i>
                                    </a>
                                </li>
                                <li class="next">
                                    <a class="a-prevent" href="">
                                        <i class="zmdi zmdi-chevron-right"></i>
                                    </a>
                                </li>
                                <li class="next last">
                                    <a class="a-prevent" href="">
                                        <i class="zmdi zmdi-more-horiz"></i>
                                    </a>
                                </li>
                            </ul>

                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
